<div class="tableform widgetconfig" >
<h4>文章设置：</h4>
<div class="division">
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <th><{t app='content'}>栏目自定义标题:<{/t}> </th>
      <td><{input type='text' name='titlename' value=$setting.titlename  size=4 style='width:100px;'}> </td>
    </tr>
    <tr>
      <th><{t app='content'}>栏目class:<{/t}> </th>
      <td><{input type='text' name='boxclass' value=$setting.boxclass  size=4 style='width:100px;'}> <em class="note"><{t app='content'}>设计师专用，非设计师请不要修改本项参数。<{/t}></em></td>
    </tr>
    <tr>
      <th><{t app='content'}>选择栏目节点:<{/t}> </th>
      <td><{input id="select_begin_node" type='select' name='node_id' value=$setting.node_id  vtype='required' caution=$___content='请选节点'|t:'content' rows=$setting.selectmaps valueColumn="node_id" labelColumn="node_name"}> <em class="note"><{t app='content'}>即选择从哪个栏目节点开始展示, 选择'---无---' 代表展示所有。<{/t}></em></td>
    </tr>
    <tr data-extends="beginnode">
      <th><{t app='content'}>去除根栏目节点链接:<{/t}> </th>
      <td ><input type="radio" name="stripparenturl" value="1" <{if $setting.stripparenturl ==1}> checked <{/if}> > <{t app='content'}>是<{/t}> <input type="radio" name="stripparenturl" value="0" <{if $setting.stripparenturl !=1}> checked <{/if}> > <{t app='content'}>否<{/t}> </td>
    </tr>
    <tr>
      <th><{t app='content'}>栏目节点展示深度:<{/t}> </th>
      <td ><{input type='text' name='lv' value=$setting.lv  size=4 style='width:30px;'}> </td>
    </tr>
    <tr>
      <th><{t app='content'}>展示栏目下文章标题:<{/t}> </th>
      <td ><div class="clearfix">
          <div class="span-auto">
            <label><input data-extends-name="showarticle" type="radio" name="showallart" value="1" <{if $setting.showallart==1}> checked <{/if}> > <{t app='content'}>是<{/t}></label>
            <label> <input type="radio" data-extends-name="showarticle" name="showallart" value="0" <{if $setting.showallart!=1}> checked <{/if}> > <{t app='content'}>否<{/t}></label>
          </div>
          <div class="span-auto" data-extends="showarticle"> <{t app='content'}>每个栏目最多展示文章标题数:<{/t}>
            <{input type='text' name='limit' value=$setting.limit  size=4 style='width:30px;'}> </div>
          <div class="span-auto" data-extends="showarticle"> ，文章标题按
            <select name="order_type">
              <{foreach from=$setting.select_order.order_type key=key item=item}> <option value="<{$key}>" <{if $key==$setting.order_type}>selected="selected"<{/if}> ><{$item}>
              </option>
              <{/foreach}>
            </select>
            <select name="order">
              <{foreach from=$setting.select_order.order key=key item=item}> <option value="<{$key}>" <{if $key==$setting.order}>selected="selected"<{/if}> ><{$item}>
              </option>
              <{/foreach}>
            </select>
            排序 </div>
        </div></td>
    </tr>


    <tr data-extends="showarticle">
      <th><{t app='content'}>展示文章最后更新时间:<{/t}> </th>
      <td ><label><input type="radio" name="showuptime" value="1" <{if $setting.showuptime!=0}> checked <{/if}> > <{t app='content'}>是<{/t}></label>
        <label><input type="radio" name="showuptime" value="0" <{if $setting.showuptime==0}> checked <{/if}>> <{t app='content'}>否<{/t}></label></td>
    </tr>
    <tr data-extends="showarticle">
      <th><{t app='content'}>只展示文章标题:<{/t}> </th>
      <td ><label><input type="radio" name="shownode" value="0" <{if $setting.shownode==0}> checked <{/if}>> <{t app='content'}>是<{/t}></label>
        <label><input type="radio" name="shownode" value="1" <{if $setting.shownode!=0}> checked <{/if}> > <{t app='content'}>否<{/t}></label></td>
    </tr>
    <tr data-extends="showarticle">
      <th><{t app='content'}>是否显示更多:<{/t}> </th>
      <td ><label><input type="radio" name="showmore" value="0" <{if $setting.showmore==0}> checked <{/if}>> <{t app='content'}>是<{/t}></label>
        <label><input type="radio" name="showmore" value="1" <{if $setting.showmore!=0}> checked <{/if}> > <{t app='content'}>否<{/t}></label></td>
    </tr>
  </table>
</div>
<h4>文章装饰图设置：<font color="red">非必填项</font></h4>
<div class="division">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <th><{t app='b2c'}>图片尺寸：<{/t}></th>
    <td><{t app='b2c'}>宽<{/t}>
  <input type="text" name="ad_pic_width" value="<{$setting.ad_pic_width}>" style="width:40px">px <{t app='b2c'}>高<{/t}><input type="text" name="ad_pic_height" style="width:40px" value="<{$setting.ad_pic_height}>">px
	</td>
  </tr>
  <tr>
    <th><{t app='b2c'}>图片：<{/t}></th>
    <td>
	<input type=hidden name="ad_pic" value="<{$setting.ad_pic}>"><input name='ad_pic' class="imgsrc" id="ad_pic" value="<{$setting.ad_pic}>" style="width:300px"><input type=button value="<{t app='b2c'}>上传图片<{/t}>" class="uploadbtn" onclick="addPic()">
	</td>
  </tr>
   <tr>
    <th><{t app='b2c'}>图片描述：<{/t}></th>
    <td><input type="text" name="ad_pic_txt" value="<{$setting.ad_pic_txt}>"  style="width:300px"></td>
  </tr>
  <tr>
    <th><{t app='b2c'}>图片链接：<{/t}></th>
    <td><input type="text" name="ad_pic_link" value="<{$setting.ad_pic_link}>"  style="width:300px"></td>
  </tr>
</tbody></table>
</div>
</div>

<script type="text/javascript">
function addPic(){
			var url='index.php?app=desktop&act=alertpages&goto='+encodeURIComponent("index.php?app=image&ctl=admin_manage&act=image_broswer&type=big");
            Ex_Loader('modedialog',function(){
			return new imgDialog(url,{onCallback:function(image_id,image_src){
					 $('ad_pic').value=image_src;
			}})	;
            });


		}

    $$('input[name=showallart]').addEvent('change',function(){
            if(!this.checked)return;
            if(this.value.toInt()>0){
            $$('[data-extends='+this.get('data-extends-name')+']').setStyle('display','');
            }else{
            $$('[data-extends='+this.get('data-extends-name')+']').setStyle('display','none');
            }

            }).fireEvent('change');

$('select_begin_node').addEvent('change',function(){

        $$('[data-extends=beginnode]').setStyle('display',(this.value&&this.value.toInt()>0)?'':'none');

        }).fireEvent('change');
    </script>
