<div class="maxSearch">
<form action="<{link app=b2c ctl=site_search act=result }>" method="post" class="SearchBar  searchBar_<{$widgets_id}>" >
  <input type="text" name="name[]" value="<{$data.search_key}>"   autocompleter="associate_autocomplete_goods:name,goods_id" ac_options="{}" class="inputstyle keywords" x-webkit-speech lang="zh-CN" x-webkit-grammar="builtin:translate"/>
  <input type="submit" value="<{t app='b2c'}>搜索<{/t}>"  class="btn_search" onfocus='this.blur();'/>
</form>
</div>
<{if $setting.fronttips || $setting.keys}>
<div class="maxKey"><{if $setting.fronttips}><span><{$setting.fronttips}></span><{/if}><{foreach from=$setting.keys item=keys key=key}> <a href="<{$keys.url}>" <{if $keys.classname}>class="<{$keys.classname}>"<{/if}><{if $keys.target=='_blank'}>target="_blank"<{/if}>><{$keys.text}></a> <{/foreach}></div><{/if}>

    <script>
(function (){
	var searchbox = $$('.searchBar_<{$widgets_id}> .keywords')[0],
searchbut = $$('.searchBar_<{$widgets_id}> .btn_search')[0];
if (searchbox.get('value') == '') {
    searchbox.set('value', '<{$setting.defaulttext}>');
    searchbox.addEvents({
        'focus': function() {
            this.set('value', '<{$data.search_key}>')
        },
        'blur': function() {
            this.set('value', '<{$setting.defaulttext}>')
        },
        'change': function() {
            this.removeEvents();
            searchbut.removeEvents()
        }
    })
}
if (searchbox.get('value') == '<{$setting.defaulttext}>') {
    searchbut.addEvent('click',
    function() {
        searchbox.set('value', '<{$data.search_key}>')
    })
}
})();</script>